(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{139:function(e,t,n){e.exports=n(141)},140:function(e,t,n){"use strict";function a(e,t,n,a,r,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(a,r)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function c(e){a(o,r,i,c,s,"next",e)}function s(e){a(o,r,i,c,s,"throw",e)}c(void 0)})}}n.d(t,"a",function(){return r})},141:function(e,t,n){var a=function(){return this||"object"===typeof self&&self}()||Function("return this")(),r=a.regeneratorRuntime&&Object.getOwnPropertyNames(a).indexOf("regeneratorRuntime")>=0,i=r&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=n(142),r)a.regeneratorRuntime=i;else try{delete a.regeneratorRuntime}catch(o){a.regeneratorRuntime=void 0}},142:function(e,t){!function(t){"use strict";var n,a=Object.prototype,r=a.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",u="object"===typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=y;var d="suspendedStart",f="suspendedYield",m="executing",h="completed",p={},g={};g[o]=function(){return this};var v=Object.getPrototypeOf,b=v&&v(v(L([])));b&&b!==a&&r.call(b,o)&&(g=b);var x=N.prototype=E.prototype=Object.create(g);w.prototype=x.constructor=N,N.constructor=w,N[s]=w.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},l.awrap=function(e){return{__await:e}},A(j.prototype),j.prototype[c]=function(){return this},l.AsyncIterator=j,l.async=function(e,t,n,a){var r=new j(y(e,t,n,a));return l.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},A(x),x[s]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},l.values=L,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,r){return c.type="throw",c.arg=e,t.next=a,r&&(t.method="next",t.arg=n),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:L(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=n),p}}}function y(e,t,n,a){var r=t&&t.prototype instanceof E?t:E,i=Object.create(r.prototype),o=new B(a||[]);return i._invoke=function(e,t,n){var a=d;return function(r,i){if(a===m)throw new Error("Generator is already running");if(a===h){if("throw"===r)throw i;return S()}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var c=C(o,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var s=k(e,t,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}function E(){}function w(){}function N(){}function A(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function j(e){var t;this._invoke=function(n,a){function i(){return new Promise(function(t,i){!function t(n,a,i,o){var c=k(e[n],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"===typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(u).then(function(e){s.value=e,i(s)},function(e){return t("throw",e,i,o)})}o(c.arg)}(n,a,t,i)})}return t=t?t.then(i,i):i()}}function C(e,t){var a=e.iterator[t.method];if(a===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=k(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},143:function(e,t,n){"use strict";var a=n(2),r=n(0),i=n.n(r),o=n(1),c=n(196),s=n(144),u=n.n(s);function l(){var e=Object(a.a)(["\n  width: 35px;\n  height: 35px;\n"]);return l=function(){return e},e}function d(){var e=Object(a.a)(["\n  background: rgba(0, 0, 0, .5);\n  padding: 5px 3px 6px 5px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n"]);return d=function(){return e},e}function f(){var e=Object(a.a)(["\n  position: fixed;\n  right: 0;\n  bottom: 100px;\n"]);return f=function(){return e},e}var m=o.a.div(f()),h=o.a.div(d()),p=o.a.img(l());t.a=function(){return i.a.createElement(m,null,i.a.createElement(c.a,{to:"/"},i.a.createElement(h,null,i.a.createElement(p,{src:u.a,alt:"\u56de\u5230\u9996\u9875"}))))}},144:function(e,t,n){e.exports=n.p+"static/media/home.73f12746.svg"},145:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMkE3QTBENDkyODExRTk4NkYwRTc5NjBDNzJBRENBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyMkE3QTBFNDkyODExRTk4NkYwRTc5NjBDNzJBRENBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTIyQTdBMEI0OTI4MTFFOTg2RjBFNzk2MEM3MkFEQ0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTIyQTdBMEM0OTI4MTFFOTg2RjBFNzk2MEM3MkFEQ0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7gM8GWAAAC30lEQVR42uybvUscQRjG9/JBDAbhCv0HLAJKQDCCiBpBBElAEUywEhuJBCxMpWChkOKstFKwSBPQQguJHCqIH5gqEMRCUUxsBAsjiGATFS/PwCxchv267HzdzrzwsOcs7M3z252Z9x33UrlczjE5HjiGhwVgARgej+Je4M3iP3++hlqhGugh575uQuNsY7ZbMQAaaegL4SHwZp1r+QQgUtAaVGfqHDBYrOZ5AXirozHMTVVQWsYQqPVoO4B+c/a0X4D5ahx2oDN8bsJEeSkSwFOPtjFoQdGdd82nqXaCICQqD2DMu1FNIaQTDcDHfD6E9sQCCDFP4gOGwHwiAUQ0P5PUWqAmjnmeqbAq89tQmc/5oTDzvgBIEoFDBZuL44IHRWR+Kk4tQKouts4i6/o7Dp3vh15CA1BOpXkVQ4CYn6WfS6C+AiFwNS97Esw3T6IXmitg3yDM/Eih5mUC6GHM57cvRHgSo5jPqKoGo8Q6dORzrgtagh77nK8TZV4mgAuoMQAC2UnKQk88zG+IMi97DgiD0Aat5lWXrvlnAStVJm6nZK8CLoRv0HOP8y10uIxCXwPMZ2jJ7cTNY1RkgmEQGuiddwLMj4R8R+Q8RlUtEDYc4pjXdg6IC2GKt3kdqsGoEIj5IREd0KEcDoMgzLxO+wF+EISa121DhIUwI9q8jhsiLgRSKn+S8YU6boldyDKvKwCpYQFYABaABWB08MgDyK5uimmrorW98GBe0nKj3KPtXhSAE6iSaRvT8Gb/EjUE9orkad8VBWACutPc/CG0LArAd+i9xhBOoY5st/NH5CrwGap36ItJzv/9z49n3EA/ab9ewPyxjGrwB9Qs22ncV2VtImQBWAA2FfaKK4+2FqSdWwr76vl7AVEA9nzy61cKAZzLHALkpcJrY+cArK1kY3LY9ElwGvoI3Rq5H4CngKSzk5j4VnDspFleqcK+7ou4aMr+dNYmQhaABWBy/BVgAIpos/yzjVFgAAAAAElFTkSuQmCC"},153:function(e,t,n){e.exports=n.p+"static/media/arrow_right.8075ec42.svg"},154:function(e,t,n){e.exports=n.p+"static/media/fz.c5fa25d0.svg"},155:function(e,t,n){e.exports=n.p+"static/media/gd.ec8aa3f0.svg"},156:function(e,t,n){e.exports=n.p+"static/media/gs.1a3c4b01.svg"},157:function(e,t,n){e.exports=n.p+"static/media/hx.3be0e6ed.svg"},158:function(e,t,n){e.exports=n.p+"static/media/jt.2f070f4e.svg"},159:function(e,t,n){e.exports=n.p+"static/media/ms.6ba37844.svg"},160:function(e,t,n){e.exports=n.p+"static/media/ny.03c59a46.svg"},161:function(e,t,n){e.exports=n.p+"static/media/pa.f286000e.svg"},162:function(e,t,n){e.exports=n.p+"static/media/sh.9c8b70e2.svg"},163:function(e,t,n){e.exports=n.p+"static/media/shfz.287d5328.svg"},164:function(e,t,n){e.exports=n.p+"static/media/xy.ab1bcf3e.svg"},165:function(e,t,n){e.exports=n.p+"static/media/yz.38c7462e.svg"},166:function(e,t,n){e.exports=n.p+"static/media/zg.1344157f.svg"},167:function(e,t,n){e.exports=n.p+"static/media/zs.132007da.svg"},168:function(e,t,n){e.exports=n.p+"static/media/zx.498ec56f.svg"},169:function(e,t,n){e.exports=n.p+"static/media/default.1caa3942.svg"},176:function(e,t,n){e.exports=n.p+"static/media/unchecked.519021c7.svg"},203:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(139),i=n.n(r),o=n(140),c=n(7),s=n(8),u=n(10),l=n(9),d=n(11),f=n(2),m=n(0),h=n.n(m),p=n(1),g=n(5),v=n.n(g),b=n(196),x=n(6),y=n(12),k=n(19),E=(n(24),n(143)),w=n(153),N=n.n(w),A=n(145),j=n.n(A),C=n(176),I=n.n(C),O=(n(154),n(155),n(156)),B=n.n(O),L=(n(157),n(64)),S=n.n(L),R=(n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167)),M=n.n(R),F=(n(168),n(169)),G=n.n(F);function z(){var e=Object(f.a)(["\n  padding: 15px;\n  background: #fff;\n  .trigger-bar{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .icon{\n      width: 20px;\n      height: 20px;\n    }\n  }\n  .empty{\n    color: #888;\n    line-height: 50px;\n    font-size: 16px;\n    font-weight: bold;\n    text-align: center;\n  }\n  .bankcard{\n    display: flex;\n    .icon{\n      width: 50px;\n      height: 50px;\n    }\n    .card{\n      font-family: industry;\n    }\n    .main{\n      flex: 1;\n      .name{\n        font-size: 16px;\n        font-weight: bold;\n        margin-bottom: 5px;\n      }\n      .text{\n        line-height: 1.5;\n        font-size: 12px;\n        color: #888;\n      }\n    }\n  }\n  .input-box{\n    padding: 15px;\n    background: #f4f4f4;\n  }\n  .small-text{\n    color: #888;\n    font-size: 12px;\n  }\n\n  .checkbox{\n    width: 16px;\n    height: 16px;\n    margin-right: 3px;\n  }\n  .flex-y-center{\n    display: flex;\n    align-items: center;\n  }\n  .group{\n    display: flex;\n    align-items: center;\n    &__body{\n      flex: 1;\n    }\n    &__foot{\n      margin-left: 10px;\n    }\n  }  \n  .loading{\n    display: flex;\n    &__head{\n     width: 50px;\n     height: 50px;\n     background: #eaeaea;\n    }\n    &__main{\n      flex: 1;\n      margin-left: 15px;\n    }\n    &__line{\n      height: 20px;\n      background: #eaeaea;\n    }\n  }\n"]);return z=function(){return e},e}function _(){var e=Object(f.a)(["\n  font-family: industry;\n  font-size: 14px;\n"]);return _=function(){return e},e}function D(){var e=Object(f.a)(["\n  color: #444;\n  font-size: 16px;\n  font-family: industry;\n"]);return D=function(){return e},e}function T(){var e=Object(f.a)(["\n  border: 0;\n  padding: 0;\n  width: 100%;\n  outline: none;\n  color: inherit;\n  font-size: inherit;\n  -webkit-appearance: none;\n  background: transparent;\n"]);return T=function(){return e},e}function Q(){var e=Object(f.a)(["\n  color: #fff;\n  font-size: 12px;\n  padding: 5px 10px;\n  line-height: 1.5;\n  border-radius: 3px;\n  background: #ccc;\n"]);return Q=function(){return e},e}function Y(){var e=Object(f.a)(["\n  color: #fff;\n  font-size: 12px;\n  padding: 5px 10px;\n  line-height: 1.5;\n  border-radius: 3px;\n  background: -webkit-linear-gradient(47deg,#4cadff,#8ce0ff);\n"]);return Y=function(){return e},e}function P(){var e=Object(f.a)(["\n  color: #fff;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 50px;\n  border-radius: 3px;\n  background: #ccc;\n"]);return P=function(){return e},e}function Z(){var e=Object(f.a)(["\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 50px;\n  border-radius: 3px;\n  box-shadow: 0 3px 5px rgba(76, 173, 255, .54);\n  background: -webkit-linear-gradient(47deg,#4cadff,#8ce0ff);\n"]);return Z=function(){return e},e}function U(){var e=Object(f.a)(["\n  border: 0;\n  padding: 0;\n  width: 100%;\n  outline: none;\n  display: block;\n  background: transparent;\n"]);return U=function(){return e},e}var H=p.a.button(U()),V=Object(p.a)(H)(Z()),W=Object(p.a)(H)(P()),J=Object(p.a)(H)(Y()),K=Object(p.a)(H)(Q()),X=p.a.input(T()),q=Object(p.a)(X)(D()),$=Object(p.a)(X)(_()),ee=p.a.div(z()),te=100,ne=5e6,ae={jsIcon:S.a,zsIcon:M.a,gsIcon:B.a},re=function(){return h.a.createElement("div",{className:"loading"},h.a.createElement("div",{className:"loading__head"}),h.a.createElement("div",{className:"loading__main"},h.a.createElement("div",{className:"loading__line",style:{width:"50%",marginBottom:10}}),h.a.createElement("div",{className:"loading__line"})))},ie=function(e){var t=e.flag,n=e.timer,a=e.handleClick;return t?h.a.createElement(J,{onClick:a},"\u83b7\u53d6\u9a8c\u8bc1\u7801"):h.a.createElement(K,null,n,"\u79d2\u540e\u91cd\u53d1")},oe=function(e){var t=e.pass,n=e.handleSubmit;return t?h.a.createElement(V,{onClick:n},"\u786e\u8ba4\u8d4e\u56de"):h.a.createElement(W,null,"\u786e\u8ba4\u8d4e\u56de")},ce=function(e){var t=e.logo,n=e.bankcardNo,a=e.bankcardName;return h.a.createElement("div",{className:"bankcard"},h.a.createElement("div",{className:"aside"},h.a.createElement("img",{className:"icon",src:t,alt:""})),h.a.createElement("div",{className:"main",style:{marginLeft:15}},h.a.createElement("p",{className:"name"},a,"(\u5c3e\u53f7",h.a.createElement("span",{className:"card"},y.a.getBankcardLastNum(n)),")"),h.a.createElement("p",{className:"text"},"\u9884\u8ba1\u4e0b\u4e00\u5de5\u4f5c\u65e5\u5230\u8d26\uff0c\u5b9e\u9645\u4ee5\u94f6\u884c\u5230\u8d26\u65e5\u4e3a\u51c6")))},se=function(e){var t=e.loading,n=e.hasBankcard,a=e.bankcardLogo,r=e.bankcardNo,i=e.bankcardName;return t?h.a.createElement(re,null):n?h.a.createElement(ce,{logo:a,bankcardNo:r,bankcardName:i}):h.a.createElement("div",{className:"empty"},"\u6682\u65e0\u53ef\u7528\u94f6\u884c\u5361")},ue=function(e){var t=e.agreementFlag;return h.a.createElement("img",{className:"checkbox",src:t?j.a:I.a})},le=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={integral:"",availableIntegral:0,smsCode:"",pass:!1,loading:!0,hasBankcard:!1,agreementFlag:!0,bankcardList:[],bankcardNo:"",bankcardName:"",bankcardLogo:"",timer:60,sendMsgCodeFlag:!0,phone:"15014095291",redeemFee:0,actualReceived:0,deductIntegral:0},n.loadBankcardList=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.getBankcardList();case 2:t=e.sent,a=t.data,n.setState({loading:!1}),200===a.status&&n.setState({bankcardList:a.data},function(){var e=a.data[0];e&&n.setCurrBankcard(e.bankCard,e.bankName,e.bankCode)});case 6:case"end":return e.stop()}},e)})),n.loadUserInfo=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.getUserInfo();case 2:t=e.sent,200===(a=t.data).status&&n.setState({availableIntegral:a.data[0].balance,phone:a.data[0].userPhoneNo});case 5:case"end":return e.stop()}},e)})),n.setCurrBankcard=function(e,t,a){n.setState({bankcardNo:e,bankcardName:t,bankcardLogo:ae[a]||G.a},function(){n.setState({hasBankcard:!0})})},n.handleClick=function(e){if(!n.state.bankcardList.length)return!1;v.a.picker(y.a.parseBankcardList(n.state.bankcardList),{defaultValue:[0],onConfirm:function(e){e&&e[0]&&n.setCurrBankcard(e[0].bankcardNo,e[0].bankcardName,e[0].bankcardClass)}})},n.handleToggle=function(e){n.setState({agreementFlag:!n.state.agreementFlag},function(){n.updateSubmitBtnStatus()})},n.handleChange=function(e){n.setState(Object(a.a)({},e.target.name,e.target.value),function(){n.updateSubmitBtnStatus()})},n.handleBlur=function(){var e=Object(o.a)(i.a.mark(function e(t){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.getRedeemFee(n.state.integral);case 2:a=e.sent,200===(r=a.data).status&&n.updateFee(r);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.updateFee=function(e){var t=e.redeemFee,a=e.actualReceived,r=e.deductIntegral;n.setState({redeemFee:t,actualReceived:a,deductIntegral:r})},n.updateSubmitBtnStatus=function(){var e=!0;n.state.integral<te&&(e=!1),n.state.integral>ne&&(e=!1),n.state.bankcardNo||(e=!1),n.state.smsCode||(e=!1),n.state.agreementFlag||(e=!1),n.setState({pass:e})},n.handleSubmit=function(e){y.a.paymentConfirm({title:"\u5145\u503c",subtitle:"\u58f9\u4f01\u670d",amount:n.state.integral,useable:n.state.availableIntegral,callback:function(e,t){if(!t.value)return!1;n.submitRedeem(t.value)}})},n.submitRedeem=function(){var e=Object(o.a)(i.a.mark(function e(t){var a,r,o,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=v.a.loading("\u5904\u7406\u4e2d"),r={amount:n.state.integral,bankCard:"6227007200230197008",bankCode:0,bankName:"\u5efa\u8bbe\u94f6\u884c",cardHoldName:"\u9ad8\u5f3a",cardPhoneNo:"15014095291",tradPwd:t,code:n.state.smsCode},e.prev=2,e.next=5,x.a.redeemIntegral(r);case 5:o=e.sent,200===(c=o.data).status?v.a.alert(c.msg,function(){Object(k.b)("/redeem-record")}):1017===c.status?y.a.confirmRetry("\u5bc6\u7801\u9519\u8bef",function(){n.retryTransPswd()}):v.a.alert(c.msg);case 8:return e.prev=8,a.hide(),e.finish(8);case 11:case"end":return e.stop()}},e,null,[[2,,8,11]])}));return function(t){return e.apply(this,arguments)}}(),n.retryTransPswd=function(){n.handleSubmit()},n.countDown=function(){n.state.timer>0?setTimeout(function(){n._isMounted&&n.setState({timer:n.state.timer-1},function(){n.countDown()})},1e3):n.resetMessageState()},n.resetMessageState=function(){n.setState({timer:10,sendMsgCodeFlag:!0})},n.getMsgCode=Object(o.a)(i.a.mark(function e(){var t,a,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.a.loading("\u53d1\u9001\u4e2d"),a={userPhoneNo:"15014095291",codeType:3},n._isMounted=!0,e.next=5,x.a.getCode(a);case 5:if(r=e.sent,200!==(o=r.data).status){e.next=12;break}if(n._isMounted){e.next=10;break}return e.abrupt("return");case 10:n.setState({sendMsgCodeFlag:!1},function(){n.countDown()}),v.a.alert(o.msg);case 12:t.hide();case 13:case"end":return e.stop()}},e)})),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadUserInfo(),this.loadBankcardList()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.pass,n=e.loading,a=e.agreementFlag,r=e.hasBankcard,i=e.bankcardNo,o=e.bankcardName,c=e.bankcardLogo,s=e.sendMsgCodeFlag,u="\u6700\u591a\u53ef\u8d4e\u56de".concat(this.state.availableIntegral);return h.a.createElement(ee,null,h.a.createElement("div",{className:"u_mb_xxx"},h.a.createElement("div",{className:"trigger-bar"},h.a.createElement("label",null,"\u8f6c\u5165\u94f6\u884c\u5361"),h.a.createElement("img",{className:"icon",onClick:this.handleClick,src:N.a,alt:"\u7bad\u5934"}))),h.a.createElement("div",{className:"u_mb_xxx"},h.a.createElement(se,{loading:n,hasBankcard:r,bankcardLogo:c,bankcardNo:i,bankcardName:o})),h.a.createElement("div",{className:"u_mb_x"},h.a.createElement("div",{className:"input-box"},h.a.createElement(q,{type:"text",name:"integral",value:this.state.integral,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:u}))),h.a.createElement("div",{className:"u_mb_xxx"},h.a.createElement("div",{className:"small-text"},h.a.createElement("p",null,"\u5b9e\u9645\u6263\u9664",this.state.deductIntegral,"\u79ef\u5206"),h.a.createElement("p",null,"\u5b9e\u9645\u5230\u8d26",this.state.actualReceived,"\u5143(\u624b\u7eed\u8d39",this.state.redeemFee,"\u79ef\u5206\uff0c100\u79ef\u5206\u7b49\u4e8e1\u5143)"))),h.a.createElement("div",{className:"u_mb_xxx"},h.a.createElement("div",{className:"group"},h.a.createElement("div",{className:"group__body"},h.a.createElement($,{type:"text",name:"smsCode",value:this.state.smsCode,onChange:this.handleChange,placeholder:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801"})),h.a.createElement("div",{className:"group__foot"},h.a.createElement(ie,{flag:s,timer:this.state.timer,handleClick:this.getMsgCode})))),h.a.createElement("div",{className:"u_mb_xxx"},h.a.createElement("div",{className:"small-text flex-y-center",onClick:this.handleToggle},h.a.createElement(ue,{agreementFlag:a}),"\u540c\u610f\u7528\u6237",h.a.createElement(b.a,{to:"/redeen-agreement",style:{color:"#007AFF"}},"\u300a\u8d4e\u56de\u89c4\u5219\u534f\u8bae\u300b"))),h.a.createElement(oe,{pass:t,handleSubmit:this.handleSubmit}),h.a.createElement(E.a,null))}}]),t}(m.Component);t.default=le}}]);
//# sourceMappingURL=9.c68d7937.chunk.js.map