{"version":3,"sources":["common/SkeletonPlaceholder.js","asset/images/bank/fz.svg","asset/images/bank/gd.svg","asset/images/bank/gs.svg","asset/images/bank/hx.svg","asset/images/bank/js.svg","asset/images/bank/jt.svg","asset/images/bank/ms.svg","asset/images/bank/ny.svg","asset/images/bank/pa.svg","asset/images/bank/sh.svg","asset/images/bank/shfz.svg","asset/images/bank/xy.svg","asset/images/bank/yz.svg","asset/images/bank/zg.svg","asset/images/bank/zs.svg","asset/images/bank/zx.svg","asset/images/bank/default.svg","pages/bankcard/BankcardList/views/List.js","pages/bankcard/BankcardList/views/styled.js","pages/bankcard/BankcardList/views/BankcardList.js","pages/bankcard/BankcardList/index.js"],"names":["LayoutPage","styled","div","_templateObject","__webpack_exports__","_ref","_ref$count","count","items","i","push","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","key","className","module","exports","__webpack_require__","p","BANKCARD_SCHEMA","GDB","fzIcon","CEB","gdIcon","ICBC","gsIcon","HXB","hxIcon","CCB","jsIcon","COMM","jtIcon","CMBC","msIcon","ABC","nyIcon","SZPAB","paIcon","BOS","shIcon","SPDB","shfzIcon","CIB","xyIcon","PSBC","yzIcon","BOC","zgIcon","CMB","zsIcon","CITIC","zxIcon","STATUS_SCHEMA","Item","id","status","bankcardNo","bankcardName","bankcardIcon","handleDel","external_React_default","src","alt","onClick","List","_ref2","map","item","List_Item","bankCard","bankName","bankCode","defaultIcon","Content","loading","SkeletonPlaceholder","length","views_List","EmptyArrayPlaceholder","BankcardList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","bind","assertThisInitialized","state","loadBankcardList","getBankcardList","data","setState","weui","delBankCard","updateBankcard","alert","msg","hide","filter","_this2","confirm","_this$state","Helmet","defaultTitle","title","BankcardList_Content","Link","to","Backhome","Component","d","views_BankcardList"],"mappings":"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","file":"static/js/4.0fde57ef.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst LayoutPage = styled.div`\r\n  .item{\r\n    margin-bottom: 30px;\r\n  }\r\n  .line{\r\n    height: 25px;\r\n    background: #eee;\r\n    margin-bottom: 10px;\r\n  }\r\n  .w80{\r\n    width: 80%;\r\n  }\r\n  .w50{\r\n    width: 50%;\r\n  }\r\n  .w30{\r\n    width: 30%;\r\n  }\r\n`\r\n\r\nexport default ({count = 1}) => {\r\n  const items = []\r\n  for(let i = 0; i < count; i++) {\r\n    items.push((\r\n      <div key={i} className=\"item\">\r\n        <div className=\"line\"></div>\r\n        <div className=\"line w80\"></div>\r\n        <div className=\"line w50\"></div>\r\n        <div className=\"line w30\"></div>\r\n      </div>\r\n    ))\r\n  }\r\n  return <LayoutPage>{items}</LayoutPage>\r\n}","module.exports = __webpack_public_path__ + \"static/media/fz.c5fa25d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/gd.ec8aa3f0.svg\";","module.exports = __webpack_public_path__ + \"static/media/gs.1a3c4b01.svg\";","module.exports = __webpack_public_path__ + \"static/media/hx.3be0e6ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/js.e2841921.svg\";","module.exports = __webpack_public_path__ + \"static/media/jt.2f070f4e.svg\";","module.exports = __webpack_public_path__ + \"static/media/ms.6ba37844.svg\";","module.exports = __webpack_public_path__ + \"static/media/ny.03c59a46.svg\";","module.exports = __webpack_public_path__ + \"static/media/pa.f286000e.svg\";","module.exports = __webpack_public_path__ + \"static/media/sh.9c8b70e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/shfz.287d5328.svg\";","module.exports = __webpack_public_path__ + \"static/media/xy.ab1bcf3e.svg\";","module.exports = __webpack_public_path__ + \"static/media/yz.38c7462e.svg\";","module.exports = __webpack_public_path__ + \"static/media/zg.1344157f.svg\";","module.exports = __webpack_public_path__ + \"static/media/zs.132007da.svg\";","module.exports = __webpack_public_path__ + \"static/media/zx.498ec56f.svg\";","module.exports = __webpack_public_path__ + \"static/media/default.1caa3942.svg\";","import React from 'react'\r\n\r\nimport fzIcon from '@/asset/images/bank/fz.svg'\r\nimport gdIcon from '@/asset/images/bank/gd.svg'\r\nimport gsIcon from '@/asset/images/bank/gs.svg'\r\nimport hxIcon from '@/asset/images/bank/hx.svg'\r\nimport jsIcon from '@/asset/images/bank/js.svg'\r\nimport jtIcon from '@/asset/images/bank/jt.svg'\r\nimport msIcon from '@/asset/images/bank/ms.svg'\r\nimport nyIcon from '@/asset/images/bank/ny.svg'\r\nimport paIcon from '@/asset/images/bank/pa.svg'\r\nimport shIcon from '@/asset/images/bank/sh.svg'\r\nimport shfzIcon from '@/asset/images/bank/shfz.svg'\r\nimport xyIcon from '@/asset/images/bank/xy.svg'\r\nimport yzIcon from '@/asset/images/bank/yz.svg'\r\nimport zgIcon from '@/asset/images/bank/zg.svg'\r\nimport zsIcon from '@/asset/images/bank/zs.svg'\r\nimport zxIcon from '@/asset/images/bank/zx.svg'\r\nimport defaultIcon from '@/asset/images/bank/default.svg'\r\n\r\nconst BANKCARD_SCHEMA = {\r\n  'GDB' : fzIcon,\r\n  'CEB' : gdIcon,\r\n  'ICBC' : gsIcon,\r\n  'HXB' : hxIcon,\r\n  'CCB' : jsIcon,\r\n  'COMM' : jtIcon,\r\n  'CMBC' : msIcon,\r\n  'ABC' : nyIcon,\r\n  'SZPAB' : paIcon,\r\n  'BOS' : shIcon,\r\n  'SPDB' : shfzIcon,\r\n  'CIB' : xyIcon,\r\n  'PSBC' : yzIcon,\r\n  'BOC' : zgIcon,\r\n  'CMB' : zsIcon,\r\n  'CITIC' : zxIcon\r\n}\r\n\r\n// 绑定状态 0 待处理　１绑定成功　２绑定失败　３冻结\r\nconst STATUS_SCHEMA = [\r\n  '待处理',\r\n  '绑定成功',\r\n  '绑定失败',\r\n  '冻结'\r\n]\r\n\r\nconst Item = ({id, status, bankcardNo, bankcardName, bankcardIcon, handleDel}) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card__aside\">\r\n        <img className=\"card__logo\" src={bankcardIcon} alt=\"\" />\r\n      </div>\r\n      <div className=\"card__main\">\r\n        <div className=\"card__group\">\r\n          <h2 className=\"card__title\">{bankcardName}</h2>\r\n          <span onClick={handleDel}>删除</span>\r\n        </div>\r\n        <label className=\"card__label\">{status}</label>\r\n        <div className=\"card__no\">{bankcardNo}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst List = ({items, handleDel}) => (\r\n  <div>\r\n    {items.map(item => (\r\n      <Item \r\n        key={item.bankCard}\r\n        id={item.bankCard}\r\n        status={STATUS_SCHEMA[item.status]}\r\n        bankcardNo={item.bankCard}\r\n        bankcardName={item.bankName}\r\n        bankcardIcon={BANKCARD_SCHEMA[item.bankCode] || defaultIcon}\r\n        handleDel={() => handleDel(item.id)}\r\n      />\r\n    ))}\r\n  </div>\r\n)\r\n\r\nexport default List","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  margin-bottom: 70px;\r\n  .main{\r\n    padding: 15px 15px 0 15px;\r\n  }\r\n  .card{\r\n    display: flex;\r\n    padding: 15px;\r\n    background: #fff;\r\n    border-radius: 3px;\r\n    margin-bottom: 15px;\r\n    box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);\r\n    &__main{\r\n      flex: 1;\r\n      margin-left: 15px;\r\n    }\r\n    &__logo{\r\n      width: 50px;\r\n      height: 50px;\r\n    }\r\n    &__title{\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n    }\r\n    &__group{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-bottom: 5px;\r\n    }\r\n    &__label{\r\n      color: #ccc;\r\n      font-size: 12px;\r\n      padding: 3px 5px;\r\n      border-radius: 3px;\r\n      background: #f2f2f2;\r\n    }\r\n    &__no{\r\n      color: #666;\r\n      font-size: 20px;\r\n      font-weight: bold;\r\n      margin-top: 5px;\r\n      word-break: break-all;\r\n      font-family: industry;\r\n    }\r\n  }\r\n  .fixed-bottom{\r\n    position: fixed;\r\n    width: 100%;\r\n    bottom: 0;\r\n  }\r\n`","import React, {Component} from 'react'\r\nimport {Link} from \"react-router-dom\"\r\nimport {Helmet} from \"react-helmet\"\r\nimport weui from 'weui.js'\r\n\r\nimport {getBankcardList, delBankCard} from '@/api'\r\n\r\nimport Backhome from '@/common/Backhome'\r\nimport SkeletonPlaceholder from '@/common/SkeletonPlaceholder'\r\nimport EmptyArrayPlaceholder from '@/common/EmptyArrayPlaceholder'\r\nimport List from './List'\r\nimport Page from './styled'\r\n\r\nconst Content = ({loading, items, handleDel}) => {\r\n  if(loading) {\r\n    return <SkeletonPlaceholder count={3} />\r\n  }\r\n  if(!items.length) {\r\n    return <EmptyArrayPlaceholder />\r\n  }\r\n  return <List items={items} handleDel={handleDel} />\r\n}\r\n\r\nclass BankcardList extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.handleDel = this.handleDel.bind(this)\r\n\r\n    this.state = {\r\n      items: [],\r\n      loading: true\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadBankcardList()\r\n  }\r\n\r\n  async loadBankcardList() {\r\n    try {\r\n      const {data} = await getBankcardList()\r\n      if(data.status === 200) {\r\n        this.setState({items: data.data})\r\n      }\r\n    }finally {\r\n      this.setState({loading: false})\r\n    }\r\n  }\r\n\r\n  async delBankCard(id) {\r\n    const loading = weui.loading('处理中')\r\n    try {\r\n      const {data} = await delBankCard(id)\r\n      if(data.status === 200) {\r\n        this.updateBankcard(id)\r\n      }\r\n      weui.alert(data.msg)\r\n    }finally {\r\n      loading.hide()\r\n    }\r\n  }\r\n\r\n  updateBankcard(id) {\r\n    const items = this.state.items.filter(item => {\r\n      return item.id !== id\r\n    })\r\n    this.setState({items})\r\n  }\r\n\r\n  handleDel(id) {\r\n    weui.confirm('确定删除吗？', () => {\r\n      this.delBankCard(id)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {loading, items} = this.state\r\n    return (\r\n      <Page>\r\n        <Helmet defaultTitle=\"沃银企服\" title=\"银行卡/信用卡列表\"/>\r\n        <div className=\"main\">\r\n          <Content loading={loading} items={items} handleDel={this.handleDel} />\r\n        </div>\r\n\r\n        <div className=\"fixed-bottom\">\r\n          <div className=\"u_m_xxx\">\r\n            <Link to=\"/bankcard-add\">\r\n              <button className=\"btn btn-secondary\">添加银行卡</button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <Backhome />\r\n      </Page>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BankcardList","import view from './views/BankcardList'\r\n\r\nexport {view}"],"sourceRoot":""}