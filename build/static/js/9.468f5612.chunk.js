(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{103:function(e,n,t){"use strict";var a=t(99),r=t(0),i=t.n(r),c=t(100),l=t(19),o=t(106),u=t.n(o);function s(){var e=Object(a.a)(["\n  width: 35px;\n  height: 35px;\n"]);return s=function(){return e},e}function d(){var e=Object(a.a)(["\n  background: rgba(0, 0, 0, .5);\n  padding: 5px 3px 6px 5px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n"]);return d=function(){return e},e}function p(){var e=Object(a.a)(["\n  position: fixed;\n  right: 0;\n  bottom: 100px;\n"]);return p=function(){return e},e}var f=c.a.div(p()),m=c.a.div(d()),b=c.a.img(s());n.a=function(){return i.a.createElement(f,null,i.a.createElement(l.a,{to:"/"},i.a.createElement(m,null,i.a.createElement(b,{src:u.a,alt:"\u56de\u5230\u9996\u9875"}))))}},106:function(e,n,t){e.exports=t.p+"static/media/home.73f12746.svg"},107:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return i});var a=t(32);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";a.a.push(e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";a.a.replace(e)}},108:function(e,n,t){"use strict";var a=t(99),r=t(0),i=t.n(r),c=t(100),l=t(109),o=t.n(l);function u(){var e=Object(a.a)(["\n  padding: 40px 0;\n  color: #aaa;\n  text-align: center;\n  img{\n    width: 100px;\n    height: 100px;\n    margin-bottom: 10px;\n  }\n"]);return u=function(){return e},e}var s=c.a.div(u());n.a=function(){return i.a.createElement(s,null,i.a.createElement("img",{src:o.a,alt:"\u6682\u65e0\u6570\u636e"}),i.a.createElement("div",null,"\u6682\u65e0\u6570\u636e"))}},109:function(e,n,t){e.exports=t.p+"static/media/empty.8103a6b5.svg"},185:function(e,n,t){"use strict";t.r(n);var a=t(101),r=t.n(a),i=t(102),c=t(13),l=t(14),o=t(16),u=t(15),s=t(17),d=t(99),p=t(0),f=t.n(p),m=t(100),b=t(110),g=t.n(b),h=t(10),v=t.n(h),x=t(6),E=t.n(x),y=t(51),k=t(35),w=t(107);function j(){var e=Object(d.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 10px;\n  li{\n    width: 33.33%;\n    padding: 5px;\n    .cell{\n      height: 71px;\n      background: #eaeaea;\n    }\n  }\n"]);return j=function(){return e},e}var O=m.a.ul(j()),N=function(){return f.a.createElement(O,null,f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})),f.a.createElement("li",null,f.a.createElement("div",{className:"cell"})))},S=t(108),_=t(103);function I(){var e=Object(d.a)(["\n  .nav{\n    display: flex;\n    margin-bottom: 10px;\n    background: #fff;\n    li{\n      position: relative;\n      flex: 1;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n      &.active{\n        color: #3b8afc;\n        font-size: 16px;\n        font-weight: bold;\n        &:after{\n          content: '';\n          position: absolute;\n          left: 50%;\n          bottom: 15px;\n          transform: translate(-50%);\n          height: 2px;\n          width: 60px;\n          background: #3b8afc;\n        }\n      }\n    }\n  }\n  .main{\n    background: #fff;\n    .input-box{\n      padding: 15px;\n    }\n    .input-inner-box{\n      padding: 15px;\n      background: #eaeaea;\n    }\n    .items{\n      display: flex;\n      flex-wrap: wrap;\n      margin: 0 10px;\n      .item-box{\n        width: 33.33%;\n        padding: 5px;\n      }\n      .item{\n        font-family: industry;\n        padding: 10px;\n        text-align: center;\n        border-radius: 2px;\n        border: 2px solid #eaeaea;\n        &.active{\n          color: #3b8afc;\n          border-color: #3b8afc;\n        }\n        &__money{\n          font-size: 16px;\n          font-weight: bold;\n          margin-bottom: 5px;\n        }\n        &__integral{\n          font-size: 12px;\n        }\n      }\n    }\n  }\n"]);return I=function(){return e},e}function C(){var e=Object(d.a)(["\n  font-size: 22px;\n"]);return C=function(){return e},e}function T(){var e=Object(d.a)(["\n  border: 0;\n  width: 100%;\n  outline: none;\n  padding: 0;\n  background: transparent;\n"]);return T=function(){return e},e}function P(){var e=Object(d.a)(["\n  color: #fff;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 50px;\n  border-radius: 3px;\n  background: #ccc;\n"]);return P=function(){return e},e}function z(){var e=Object(d.a)(["\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 50px;\n  border-radius: 3px;\n  box-shadow: 0 3px 5px rgba(76, 173, 255, .54);\n  background: -webkit-linear-gradient(47deg,#4cadff,#8ce0ff);\n"]);return z=function(){return e},e}function M(){var e=Object(d.a)(["\n  outline: none;\n  display: block;\n  border: 0;\n  width: 100%;\n  padding: 0;\n"]);return M=function(){return e},e}t.d(n,"default",function(){return K});var B=m.a.button(M()),R=Object(m.a)(B)(z()),U=Object(m.a)(B)(P()),A=m.a.input(T()),J=Object(m.a)(A)(C()),q=m.a.div(I()),D=function(e){var n=e.id,t=e.selectId,a=e.money,r=e.integral,i=e.handleClick;return f.a.createElement("div",{className:"item-box"},f.a.createElement("div",{className:g()("item",{active:n===t}),onClick:function(){return i(n,r)}},f.a.createElement("div",{className:"item__money"},a,"\u5143"),f.a.createElement("div",{className:"item__integral"},r,"\u79ef\u5206")))},W=function(e){var n=e.loading,t=e.list;return n?f.a.createElement(N,null):t.length?f.a.createElement("div",{className:"items"},t):f.a.createElement(S.a,null)},F=function(e){var n=e.pass,t=e.handleSubmit;return n?f.a.createElement(R,{onClick:t},"\u7acb\u5373\u5145\u503c"):f.a.createElement(U,null,"\u7acb\u5373\u5145\u503c")},G="2",H=null,K=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(l)))).state={pass:!1,loading:!1,items:[],phone:"",selectId:"",type:G,integral:0,availableIntegral:0},t.loadUserinfo=Object(i.a)(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.getUserInfo();case 2:n=e.sent,200===(a=n.data).status&&t.setState({availableIntegral:a.data[0].balance});case 5:case"end":return e.stop()}},e)})),t.loadProdcuts=function(){var e=Object(i.a)(r.a.mark(function e(n){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),H=v.a.CancelToken.source(),t._isMounted=!0,e.prev=3,e.next=6,y.a.getRechargePhoneProductsByType(n,{cancelToken:H.token});case 6:if(a=e.sent,200!==(i=a.data).status){e.next=12;break}if(t._isMounted){e.next=11;break}return e.abrupt("return");case 11:t.setState({items:i.data});case 12:if(e.prev=12,t._isMounted){e.next=15;break}return e.abrupt("return");case 15:return t.setState({loading:!1}),e.finish(12);case 17:case"end":return e.stop()}},e,null,[[3,,12,17]])}));return function(n){return e.apply(this,arguments)}}(),t.reset=function(){t.setState({selectId:""},function(){t.updateBtnStatus()})},t.handleToggleType=function(e){e!==t.state.type&&(H.cancel("forced interrupt request"),t.reset(),t.setState({type:e},function(){t.loadProdcuts(e)}))},t.selectProduct=function(e,n){t.setState({selectId:e,integral:n},function(){t.updateBtnStatus()})},t.handleChange=function(e){t.setState({phone:e.target.value},function(){t.updateBtnStatus()})},t.handleSubmit=function(){k.a.paymentConfirm({title:"\u5145\u503c",subtitle:"\u58f9\u4f01\u670d",amount:t.state.integral,useable:t.state.availableIntegral,callback:function(e,n){if(!n.value)return!1;t.submitRecharge(n.value)}})},t.submitRecharge=function(){var e=Object(i.a)(r.a.mark(function e(n){var a,i,c,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.loading("\u5904\u7406\u4e2d"),i={chargeAddr:t.state.phone,chargeType:"1",chargeMoney:"1",productId:t.state.selectId,tranPwd:n},e.prev=2,e.next=5,y.a.rechargePhone(i);case 5:c=e.sent,200===(l=c.data).status?E.a.alert(l.msg,function(){Object(w.b)("/order")}):1017===l.status?k.a.confirmRetry("\u5bc6\u7801\u9519\u8bef",function(){t.retryTransPswd()}):E.a.alert(l.msg);case 8:return e.prev=8,a.hide(),e.finish(8);case 11:case"end":return e.stop()}},e,null,[[2,,8,11]])}));return function(n){return e.apply(this,arguments)}}(),t.retryTransPswd=function(){t.handleSubmit()},t.updateBtnStatus=function(){t.state.phone&&t.state.selectId?t.setState({pass:!0}):t.setState({pass:!1})},t}return Object(s.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadUserinfo(),this.loadProdcuts(this.state.type)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,n=this.state,t=n.selectId,a=n.type,r=n.items,i=n.loading,c=n.pass,l=r.map(function(n){return f.a.createElement(D,{key:n.productId,id:n.productId,selectId:t,money:n.salesPrice,integral:100*n.salesPrice,handleClick:e.selectProduct})});return f.a.createElement(q,null,f.a.createElement("ul",{className:"nav"},f.a.createElement("li",{className:g()({active:a===G}),onClick:function(){return e.handleToggleType(G)}},"\u4e2d\u56fd\u79fb\u52a8"),f.a.createElement("li",{className:g()({active:"3"===a}),onClick:function(){return e.handleToggleType("3")}},"\u4e2d\u56fd\u8054\u901a"),f.a.createElement("li",{className:g()({active:"4"===a}),onClick:function(){return e.handleToggleType("4")}},"\u4e2d\u56fd\u7535\u4fe1")),f.a.createElement("main",{className:"main"},f.a.createElement("div",{className:"input-box"},f.a.createElement("div",{className:"input-inner-box"},f.a.createElement(J,{type:"number",value:this.state.phone,onChange:this.handleChange,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",autoComplete:"off"}))),f.a.createElement("h2",{className:"u_mx_xxx u_mb_x"},"\u8bf7\u9009\u62e9\u9762\u503c"),f.a.createElement(W,{loading:i,list:l}),f.a.createElement("div",{className:"u_p_xxx"},f.a.createElement(F,{pass:c,handleSubmit:this.handleSubmit}))),f.a.createElement(_.a,null))}}]),n}(p.Component)}}]);
//# sourceMappingURL=9.468f5612.chunk.js.map