(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{21:function(e,t,n){"use strict";t.a={dev_baseURL:"http://localhost:8000",prod_baseURL:"http://localhost:8000/api",timeout:1e4,storage_namespace:"woyin",ecard:{MAX_COUNT:10,MIN_COUNT:1},card:{MAX_COUNT:10,MIN_COUNT:1},redeem:{PAGE_LIMIT:20},double_color_ball:{red:{MAX:20,MIN:6},blue:{MAX:6,MIN:1}}}},32:function(e,t,n){"use strict";var a=n(49),r=n.n(a)()();t.a=r},35:function(e,t,n){"use strict";var a=n(8),r=n(6),o=n.n(r);function i(e,t){return 0!==(t=t||"").replace(/\s/g,"").length&&new RegExp(" "+t+" ").test(" "+e.className+" ")}function c(e,t){i(e,t)||(e.className=""===e.className?t:e.className+" "+t)}var u=function(e){return e.substring(e.length-4,e.length)};t.a={fixIos12WeixinInputBug:function(){var e=0;document.querySelector("body").addEventListener("focus",function(t){"focus"===t.type&&"INPUT"===t.target.tagName&&(e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop)},!0),document.querySelector("body").addEventListener("blur",function(t){var n;"blur"===t.type&&"INPUT"===t.target.tagName&&(n=(n=e)||0,window.scrollTo(0,n))},!0)},accessTokenIsValid:function(e){return!0},refreshTokenIsValid:function(e){return!0},creteNumSeriesString:function(e,t){for(var n=[],a=e;a<=t;a++)n.push(String(a));return n},randomRangeNum:function(e,t){var n=t-e,a=Math.random();return e+Math.round(n*a)},closest:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector,a=e;e&&!n.call(e,t);)e=e.parentElement;return e!==a},parseUrl:function(e,t){var n=[];return e.split("?")[1].split("&").forEach(function(e){var a={},r=e.split("=")[0],o=e.split("=")[1];a[r]=o,r===t&&(n=a)}),n},paymentConfirm:function(e){e=Object(a.a)({title:"\u786e\u8ba4",subtitle:"",useable:0,amount:0,callback:function(){}},e);var t='\n    <div>\n      <div class="modal">\n        <div class="modal__dialog">\n          <div class="modal__content">\n            <div class="modal__head">\n              <div class="modal__close">\xd7</div>\n              <div class="modal__title">'.concat(e.title,'</div>\n            </div>\n            <div class="modal__body">\n              <div class="modal__info">\n                <div class="modal__subtitle">').concat(e.subtitle,'</div>\n                <div class="modal__amount">').concat(e.amount,'</div>\n              </div>\n              <div class="modal__items">\n                <div class="modal__item">\n                  <div class="modal__label">\u53ef\u7528\u79ef\u5206</div>\n                  <div class="modal__useable">').concat(e.useable,'</div>\n                </div>\n                <div class="modal__item">\n                  <div class="modal__label">\u4ea4\u6613\u5bc6\u7801</div>\n                  <div><input class="modal__input" type="password" autocomplete="off" placeholder="\u8bf7\u8f93\u5165\u4ea4\u6613\u5bc6\u7801"></div>\n                </div>\n              </div>\n            </div>\n            <div class="modal__foot">\n              <button class="modal__button modal__submit">\u786e\u8ba4\u5151\u6362</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="modal__backdrop"></div>\n    </div>'),n=document.createElement("div");n.innerHTML=t,document.body.appendChild(n);var r=document.querySelector(".modal__backdrop"),o=document.querySelector(".modal__dialog"),u=document.querySelector(".modal__close"),l=document.querySelector(".modal__submit"),d=document.querySelector(".modal__input"),s=function(e){c(r,"weui-animate-fade-out"),c(o,"weui-animate-fade-slideUp"),o.addEventListener("animationend",function(){n.remove()}),o.addEventListener("webkitAnimationEnd",function(){n.remove()})};d.addEventListener("input",function(e){e.target.value?c(l,"modal__button--enable"):function(e,t){if(i(e,t)){for(var n=" "+e.className.replace(/[\t\r\n]/g,"")+" ";n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}(l,"modal__button--enable")}),u.addEventListener("click",function(e){s()}),l.addEventListener("click",function(t){e.callback?!1!==e.callback.call(this,t,d)&&s():s()}),c(r,"weui-animate-fade-in"),c(o,"weui-animate-fade-slideDown")},parseBankcardList:function(e){return e.map(function(e){return{bankcardNo:e.bankCard,bankcardName:e.bankName,bankcardClass:e.bankCode,label:e.bankName+"-"+u(e.bankCard)}})},parseCreditcardList:function(e){return e.map(function(e){return{creditCardNo:e.creditCardNo,creditCardName:e.creditCardName,label:e.creditCardName+"-"+u(e.creditCardNo)}})},getBankcardLastNum:u,confirmRetry:function(e,t){o.a.confirm(e,{buttons:[{label:"\u53d6\u6d88",type:"default"},{label:"\u91cd\u8bd5",type:"primary",onClick:function(){t&&t()}}]})}}},51:function(e,t,n){"use strict";var a=n(8),r=n(12),o=n.n(r),i=n(10),c=n.n(i),u=n(21);c.a.defaults.timeout=u.a.timeout,t.a={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c.a.get(e,Object(a.a)({},n,{params:t}))},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return c.a.post(e,t,n)},login:function(e){return this.post("user/login",o.a.stringify(e))},refreshToken:function(e){return this.get("refresh_token",{refresh_token:e})},getUser:function(){return this.get("protected")},getOrderList:function(e,t){return this.get("getOrderList",{status:e,page:t})},hotProducts:function(){return this.get("hotProducts")},getProductCateList:function(e){return this.get("getProductCateList",{type:e})},getProductByCate:function(e,t){return this.get("getProductByCate",{type:e,cate:t})},getProductById:function(e){return this.get("getProductById",{id:e})},getHotsell:function(){return this.get("hotsell")},getRechargePhoneProductsByType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("api/charge/getChargeProductList",{productId:e},t)},getRechargeFlowProductsByType:function(e){return this.get("getRechargeFlowProductsByType",{type:e})},getRechargeOilProductsByType:function(e){return this.get("getRechargeOilProductsByType",{type:e})},getRechargeQBProductsByType:function(e){return this.get("getRechargeQBProductsByType",{type:e})},getVideoProviders:function(){return this.get("getVideoProviders")},getVideoProducts:function(){return this.get("getVideoProducts")},confirmTransPswd:function(e){return this.post("api/trad/checkCode",{pswd:e})},rechargePhone:function(e){return this.post("api/charge/moreCredit",o.a.stringify(e))},rechargeFlow:function(e,t){return this.get("rechargeFlow",{id:e,phone:t})},rechargeOil:function(e,t){return this.get("rechargeOil",{id:e,phone:t})},rechargeQB:function(e,t){return this.get("rechargeQB",{id:e,phone:t})},getBankcardList:function(){return this.get("api/bank/getBankCardList")},addBankcard:function(e){return this.post("api/bank/addBankCard",o.a.stringify(e))},getRedeemFee:function(e){return this.get("api/trad/poundageList",{integral:e})},sendMsgCode:function(e){return this.get("sendMsgCode",{phone:e})},redeemIntegral:function(e){return this.post("api/trad/withdrawal",o.a.stringify(e))},getRedeemRecordByStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("api/trad/getWithList",e,t)},getCode:function(e){return this.post("user/getCode",o.a.stringify(e))},getCreditCardList:function(){return this.get("getCreditCardList")},creditCardRepayment:function(e){return this.post("creditCardRepayment",e)},transfer:function(e){return this.post("transfer",e)},getECardList:function(){return this.get("getECardList")},getECardDetailByType:function(){return this.get("getECardDetailByType")},addVehicle:function(e){return this.post("addVehicle",e)},getVehicleList:function(){return this.get("getVehicleList")},getViolationList:function(){return this.get("getViolationList")},getUserInfo:function(){return this.get("api/user/getUserInfo")}}},54:function(e,t,n){e.exports=n(98)},84:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i});var a=n(21).a.storage_namespace;function r(e){return localStorage.getItem("".concat(a,"_").concat(e))}function o(e,t){localStorage.setItem("".concat(a,"_").concat(e),t)}function i(e){localStorage.removeItem("".concat(a,"_").concat(e))}},92:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(37),i=n.n(o),c=n(20),u=(n(62),n(10)),l=n.n(u),d=n(6),s=n.n(d),m=n(11),h=n(8),g=n(9),f={token:"",isAuthenticated:!1},p=function(e){Object(g.c)("token",e.token)},b={show:!1},v=Object(m.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return p(t.payload),Object(h.a)({},e,{token:t.payload.token,isAuthenticated:!0});case"UNAUTH_USER":return Object(g.b)("token"),Object(h.a)({},e,{token:"",isAuthenticated:!1});case"REFRESH_TOKEN":return p(t.payload),Object(h.a)({},e,{token:t.payload.token});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_LOADING":return Object(h.a)({},e,{show:!0});case"HIDE_LOADING":return Object(h.a)({},e,{show:!1});default:return e}}}),_=Object(m.c)(v,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),y=(n(51),n(84),n(13)),k=n(14),E=n(16),O=n(15),w=n(17),C=n(183),N=n(184),P=n(170),L=n(7),T=n.n(L),j=(n(92),n(35)),I=n(182),B=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),S=Object(I.a)(B),U=n(50),R=n(181),A=Object(I.a)(Object(c.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},function(e,t){return{}})(function(e){var t=e.component,n=e.isAuthenticated,a=Object(U.a)(e,["component","isAuthenticated"]);return r.a.createElement(P.a,Object.assign({},a,{render:function(e){if(n)return r.a.createElement(t,e);var a={pathname:"/login",state:{from:e.location}};return r.a.createElement(R.a,{to:a})}}))})),M=n(32),V=function(e){var t=e.isLoading,n=e.error;return t?r.a.createElement("div",null,"Loading..."):n?r.a.createElement("div",null,"Sorry, there was a problem loading the page."):null},D=T()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,171))},loading:V}),H=T()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(6)]).then(n.bind(null,172))},loading:V}),q=T()({loader:function(){return Promise.all([n.e(0),n.e(3),n.e(7)]).then(n.bind(null,173))},loading:V}),x=T()({loader:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,174))},loading:V}),X=T()({loader:function(){return Promise.all([n.e(0),n.e(19),n.e(9)]).then(n.bind(null,185))},loading:V}),F=T()({loader:function(){return Promise.all([n.e(0),n.e(17),n.e(10)]).then(n.bind(null,175))},loading:V}),W=T()({loader:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,176))},loading:V}),Q=T()({loader:function(){return Promise.all([n.e(0),n.e(3),n.e(12)]).then(n.bind(null,177))},loading:V}),G=T()({loader:function(){return Promise.all([n.e(0),n.e(18),n.e(13)]).then(n.bind(null,178))},loading:V}),z=T()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,179))},loading:V}),J=T()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(15)]).then(n.bind(null,180)).then(function(e){return e.view})},loading:V}),$=function(e){function t(){return Object(y.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){j.a.fixIos12WeixinInputBug()}},{key:"render",value:function(){return r.a.createElement(C.a,{history:M.a},r.a.createElement(S,null,r.a.createElement(N.a,null,r.a.createElement(P.a,{path:"/",exact:!0,component:J}),r.a.createElement(P.a,{path:"/login",component:D}),r.a.createElement(A,{path:"/me",component:H}),r.a.createElement(A,{path:"/bankcard-list",component:q}),r.a.createElement(A,{path:"/bankcard-add",component:x}),r.a.createElement(A,{path:"/redeem",component:Q}),r.a.createElement(A,{path:"/redeem-record",component:G}),r.a.createElement(A,{path:"/order",component:F}),r.a.createElement(A,{path:"/recharge-phone",component:X}),r.a.createElement(A,{path:"/transfer",component:z}),r.a.createElement(P.a,{render:function(){return r.a.createElement(W,null)}}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.interceptors.request.use(function(e){var t=Object(g.a)("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),l.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(parseInt(e.response.status,10)){case 400:s.a.alert("\u8bf7\u6c42\u9519\u8bef");break;case 401:case 403:_.dispatch({type:"UNAUTH_USER"});break;case 404:s.a.alert("\u8bf7\u6c42\u5730\u5740\u51fa\u9519");break;case 408:s.a.alert("\u8bf7\u6c42\u8d85\u65f6");break;case 500:s.a.alert("\u670d\u52a1\u5668\u9047\u5230\u95ee\u9898");break;case 502:s.a.alert("\u7f51\u7edc\u9519\u8bef");break;case 504:s.a.alert("\u7f51\u5173\u8d85\u65f6");break;case 503:s.a.alert("\u670d\u52a1\u4e0d\u53ef\u7528");break;case 505:s.a.alert("HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301");break;default:s.a.alert("\u670d\u52a1\u5668\u5fd9\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")}return Promise.reject(e)});var K=Object(g.a)("token");K&&_.dispatch({type:"AUTH_USER",payload:{token:K}}),i.a.render(r.a.createElement(c.a,{store:_},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[54,20,16]]]);
//# sourceMappingURL=main.f8fb7ec3.chunk.js.map