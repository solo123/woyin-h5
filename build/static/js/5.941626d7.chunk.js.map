{"version":3,"sources":["asset/images/icon/close.png","pages/bankcard/AddBankcard/views/styled.js","pages/bankcard/AddBankcard/views/AddBankcard.js","pages/bankcard/AddBankcard/index.js"],"names":["module","exports","styled","div","_templateObject","AddBankcard","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","bind","assertThisInitialized","handleChange","handleFocus","handleBlur","handleSubmit","state","username","usernameCleanViewFlag","id","idCleanViewFlag","cardNo","cardNoCleanViewFlag","phone","phoneCleanViewFlag","bankCard","loading","weui","params","cardPhoneNo","cardHoldName","idNo","addBankcard","data","status","alert","msg","from","_this2","location","push","hide","flag","_this$state","name","setState","defineProperty","e","target","value","concat","_this3","key","setTimeout","_this$state2","verify","doSubmit","_this4","_this$state3","external_React_default","a","createElement","Helmet","defaultTitle","title","className","type","onChange","onFocus","onBlur","placeholder","style","visibility","onClick","src","closeIcon","alt","Backhome","Component","__webpack_require__","d","__webpack_exports__","views_AddBankcard"],"mappings":"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","file":"static/js/5.941626d7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABYRJREFUeAHtm8tqFEEUhjMZSWKCwqCb4EYwoA8wogQCmou40rjXlZcHEHWlENCdlwfwstK9iSsxF4VAiDoPkIUbFzIbZVBJnASS8f9DtaY7Pd11Tle3CVbBUNNVdU799U1VdXV1TUeHD56AJ+AJeAKegCfgCXgCnoAn4Al4AkUTKBVdIetbWFjY22w2x9bX10+XSqVjrVZrAHEF8T7m4/tPfG8g/oR4qVwuv+3p6ZkeHBz8xfwiQ2GA5ufnK6urq+fQuHE0+gziXmFDVwDsDWwmu7u7Xw0NDTWE9qriuQOq1Wq9jUbjOtTdxGe/SuV2ox9Iul+pVB5Vq9WV7dnuUnIDhF5Snp2dvYx4AnL73UkOeaqjV02MjIw8Q7weynF0kQsggDm0sbExCY1VRzrT3NQ6OzvHAepLWkFpfqfUIK383NzcCcD5iHJFwaGkKutk3Wn6pPlOAc3MzFyE0HcQkdeQSmpfP+umhqRC0jxnQ4zCMN88lwrIozzmo0ujo6MvXPh2AsgMq3cA1ONCVFYfANTEnHRqeHj4fWZfWR2YCZlzzr8YVkny64B0POvEnWkO4q0c4553q50Gh+A4J01SYxLFtLxMgLjOQQVF3q3S2hPNrxqN0XTra/UcZFbIn1DTTuw9WwHUseIe0K641T3IPD6I4GDy/LZVuea7wke/0aqprkMFiA+eEHpLWOMi5oMjsHsqtPtTnLb0gYTFP4l2X25Ss13RcCkVoLW1tfMQurk1EXYXf2V+9bNjY2PfcVe5poFEG9rSB2o5a3zGV7g9dT81b09OT1EBAhxRZSh/AA16gBhRqSWFBJtNOLQ1Ph7SZ3rz/pZAeZHmwFI8SXOza3l5+SscSPdzuBEWaijuMI8h/EogJi6OsXkCG949pWGlr6/voHTTTdyDuBMIZWI4bA1hGChod3pPcgiH1fca7fxuHcSAsPgatvYeU9AWkmM4m0q4xRsjKTFJDAjejiZ6tMhMgxQDh0NRM6xCauD3WCjB4mKPRZlQEQgdCCUoLwwkDjve1RC1rmH4bXozkzjTSjbzlK0E+BNrFwNCY/j2wVZTYjn44ZwUgkQDA8wpHONXvBYSA0KjrNc/iXRMZhQSk5HmHI7xK9aumYNM0/6PSAwI3f+nSzTwF1obsfdwiEkXkzaaNNo1Q4wv7ESr2Hbio3A4IbMsIIUmbg7Ddj4k6fBD7aIgBoRG8XXwgKiWmMJxcAIQ0YnbXGeGRO0xUhKTxEMMjVhK9GiRmQSH5gTF3oQYRd0NN412MSAeJLBg0LZIGpzAMA9IGu1iQDxlgUao3ofbwskJ0orRHri3isWA+DSMhvKUhShI4QTOXfUkapY+yVODGBCNUNkUY9uA8t/Q0BuIEckXgVFIxpd0+5ZvX8RBvB/EGsxZn88QKlmZcpuUO4HcOFPdkWDLLdcb8PMan5P42IYfGF6HNWeKVICoanp6+jaiu7YKWc70pExrKKWPO9iqvSfRGpRVDTEa8/ASonrgyCbGr58JDutQ+OBrH2pVBTUgvmfCrzmhqrVAI2rUvhOjTPUQozF+zTJOdXBu2alvV2s45XESkNSnz9Q9iIBYMU924atoqNG2gMDDC+NZ4FBjJkB0gKfuL1ihXoCQJq93QqAWwqG2rHoyA6IAcw7nalYxDu2vAs4HF/6cAKIQnujCL3fpX/Yk1k0Nrk6XsV2ZJmk6iAaeNsPrlZdIFx1siPpRXNc51F2cKttat7MeFDilQJ7swnUtSCsg5jHg467hULfzHhTA4BIAezr+IHkApF0c/BUBc8MtQJM8u7VzyfTd/1eEaOv4gGuOzfDojPrPLAA91dXVNaV58IxqsrnObYglVb6b/g6V1A6f5wl4Ap6AJ+AJeAKegCfgCXgCnoAnkA+B33+vKz6YrW+MAAAAAElFTkSuQmCC\"","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  margin: 15px;\r\n  .form{\r\n    background: #fff;\r\n    border-radius: 3px;\r\n    box-shadow: 1px 1px 3px rgba(26, 26, 26, 0.1);\r\n    .close-btn{\r\n      width: 25px;\r\n      height: 25px;\r\n    }\r\n  }\r\n  .group{\r\n    position: relative;\r\n    padding: 15px;\r\n    display: flex;\r\n    align-items: center;\r\n    &:after{\r\n      content: \" \";\r\n      position: absolute;\r\n      left: 15px;\r\n      bottom: 0;\r\n      right: 0;\r\n      height: 1px;\r\n      background: #eaeaea;\r\n      transform: scaleY(0.5);\r\n    }\r\n    &:last-child:after{\r\n      content: none;\r\n    }\r\n    &__body{\r\n      flex: 1;\r\n    }\r\n    &__foot{\r\n      display: flex;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n`","import React, {Component} from 'react'\r\nimport {Helmet} from \"react-helmet\"\r\nimport weui from 'weui.js'\r\n\r\nimport {addBankcard} from '@/api'\r\nimport {push} from '@/services/redirect'\r\n\r\nimport Backhome from '@/common/Backhome'\r\nimport Page from './styled'\r\n\r\nimport closeIcon from '@/asset/images/icon/close.png'\r\n\r\nclass AddBankcard extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.handleClick = this.handleClick.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleFocus = this.handleFocus.bind(this)\r\n    this.handleBlur = this.handleBlur.bind(this)\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n\r\n    this.state = {\r\n      username: '',\r\n      usernameCleanViewFlag: false,\r\n      id: '',\r\n      idCleanViewFlag: false,\r\n      cardNo: '',\r\n      cardNoCleanViewFlag: false,\r\n      phone: '',\r\n      phoneCleanViewFlag: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  componentWillUnmount() {\r\n  }\r\n\r\n  async doSubmit(phone, bankCard, username, id) {\r\n    const loading = weui.loading('处理中')\r\n    const params = {\r\n      cardPhoneNo: phone,\r\n      bankCard: bankCard,\r\n      cardHoldName: username,\r\n      idNo: id\r\n    }\r\n    try {\r\n      const {data} = await addBankcard(params)\r\n      if(data.status === 200) {\r\n        weui.alert(data.msg, () => {\r\n          const {from} = this.props.location.state || {from: false}\r\n          if(from) {\r\n            push(from)\r\n          }else {\r\n            push('/bankcard-list')\r\n          }\r\n        })\r\n      }else {\r\n        weui.alert(data.msg)\r\n      }\r\n    }finally {\r\n      loading.hide()\r\n    }\r\n  }\r\n\r\n  check() {\r\n    let flag = true\r\n    const {username, id, cardNo, phone} = this.state\r\n\r\n    if(!username) {\r\n      flag = false\r\n    }\r\n    if(!id) {\r\n      flag = false\r\n    }\r\n    if(!cardNo) {\r\n      flag = false\r\n    }\r\n    if(!phone) {\r\n      flag = false\r\n    }\r\n    return flag\r\n  }\r\n\r\n  verify(phone, cardNo, username, id) {\r\n    if(!username) {\r\n      weui.alert('请输入姓名')\r\n      return false\r\n    }\r\n    if(!id) {\r\n      weui.alert('请输入身份证号')\r\n      return false\r\n    }\r\n    if(!cardNo) {\r\n      weui.alert('请输入卡号')\r\n      return false\r\n    }\r\n    if(!phone) {\r\n      weui.alert('请输入手机号')\r\n      return false\r\n    }    \r\n    return true\r\n  }\r\n\r\n  handleClick(name) {\r\n    this.setState({[name]: ''})\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n  handleFocus(e) {\r\n    this.setState({[`${e.target.name}CleanViewFlag`]: true})\r\n  }\r\n\r\n  handleBlur(e) {\r\n    const key =`${e.target.name}CleanViewFlag`\r\n    setTimeout(() => {\r\n      this.setState({[key]: false})\r\n    }, 100)\r\n  }\r\n\r\n  handleSubmit() {\r\n    const {phone, cardNo, username, id} = this.state\r\n    if(!this.verify(phone, cardNo, username, id)) {\r\n      return\r\n    }\r\n    this.doSubmit(phone, cardNo, username, id)\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      usernameCleanViewFlag,\r\n      idCleanViewFlag,\r\n      cardNoCleanViewFlag,\r\n      phoneCleanViewFlag\r\n    } = this.state\r\n\r\n    return (\r\n      <Page>\r\n        <Helmet defaultTitle=\"沃银企服\" title=\"添加银行卡/信用卡\"/>\r\n        <main>\r\n          <h2 className=\"u_my_xxx u_fs_xxx\">请填写本人信息</h2>\r\n          <div className=\"form\">\r\n            <div className=\"group\">\r\n              <div className=\"group__body\">\r\n                <input\r\n                  className=\"input\" \r\n                  type=\"text\" \r\n                  name=\"username\" \r\n                  value={this.state.username} \r\n                  onChange={this.handleChange} \r\n                  onFocus={this.handleFocus}\r\n                  onBlur={this.handleBlur}\r\n                  placeholder=\"请输入姓名\"\r\n                />\r\n              </div>\r\n              <div className=\"group__foot\">\r\n                <img\r\n                  className=\"close-btn\" \r\n                  style={{visibility: usernameCleanViewFlag ? 'visible' : 'hidden'}} \r\n                  onClick={() => this.handleClick('username')}\r\n                  src={closeIcon} \r\n                  alt=\"清空输入\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"group\">\r\n              <div className=\"group__body\">\r\n                <input\r\n                  className=\"input\" \r\n                  type=\"text\" \r\n                  name=\"id\" \r\n                  value={this.state.id} \r\n                  onChange={this.handleChange} \r\n                  onFocus={this.handleFocus}\r\n                  onBlur={this.handleBlur}\r\n                  placeholder=\"请输入身份证号\"\r\n                />\r\n              </div>\r\n              <div className=\"group__foot\">\r\n                <img\r\n                  className=\"close-btn\" \r\n                  style={{visibility: idCleanViewFlag ? 'visible' : 'hidden'}}\r\n                  onClick={() => this.handleClick('id')}\r\n                  src={closeIcon} \r\n                  alt=\"清空输入\" \r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"group\">\r\n              <div className=\"group__body\">\r\n                <input\r\n                  className=\"input\" \r\n                  type=\"text\" \r\n                  name=\"cardNo\" \r\n                  value={this.state.cardNo} \r\n                  onChange={this.handleChange} \r\n                  onFocus={this.handleFocus}\r\n                  onBlur={this.handleBlur}\r\n                  placeholder=\"请输入银行卡/信用卡号\"\r\n                />\r\n              </div>\r\n              <div className=\"group__foot\">\r\n                <img\r\n                  className=\"close-btn\" \r\n                  style={{visibility: cardNoCleanViewFlag ? 'visible' : 'hidden'}} \r\n                  onClick={() => this.handleClick('cardNo')}\r\n                  src={closeIcon} \r\n                  alt=\"清空输入\" \r\n                />\r\n              </div>\r\n            </div>            \r\n            <div className=\"group\">\r\n            <div className=\"group__body\">\r\n              <input\r\n                className=\"input\" \r\n                type=\"text\" \r\n                name=\"phone\" \r\n                value={this.state.phone} \r\n                onChange={this.handleChange} \r\n                onFocus={this.handleFocus}\r\n                onBlur={this.handleBlur}\r\n                placeholder=\"请输入银行预留手机号\"\r\n              />\r\n            </div>\r\n            <div className=\"group__foot\">\r\n              <img\r\n                className=\"close-btn\" \r\n                style={{visibility: phoneCleanViewFlag ? 'visible' : 'hidden'}} \r\n                onClick={() => this.handleClick('phone')}\r\n                src={closeIcon} \r\n                alt=\"清空输入\" \r\n              />\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </main>\r\n\r\n        <div className=\"u_mt_xxx\">\r\n          <button className=\"btn btn-secondary\" onClick={this.handleSubmit}>添加</button>\r\n        </div> \r\n\r\n        <Backhome />\r\n      </Page>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddBankcard","import view from './views/AddBankcard'\r\n\r\nexport {view}"],"sourceRoot":""}