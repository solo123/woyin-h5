{"version":3,"sources":["services/redirect.js","asset/images/icon/arrow_right.svg","pages/Me.js"],"names":["__webpack_require__","d","__webpack_exports__","push","replace","_history__WEBPACK_IMPORTED_MODULE_0__","path","arguments","length","undefined","history","module","exports","p","Button","styled","button","_templateObject","PrimaryButton","_templateObject2","Page","div","_templateObject3","Me","state","balance","contactMan","userPhoneNo","loadUserinfo","_callee","_ref2","data","C_Users_htbst_Desktop_woyin_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","_this","_isMounted","api","getUserInfo","sent","status","abrupt","setState","Object","C_Users_htbst_Desktop_woyin_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","stop","handleClick","e","weui","confirm","props","logout","this","react__WEBPACK_IMPORTED_MODULE_9___default","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","to","src","arrowIcon","onClick","_common_Menu__WEBPACK_IMPORTED_MODULE_16__","Component","withRouter","connect","dispatch","ownProps","type"],"mappings":"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","file":"static/js/6.64c04648.chunk.js","sourcesContent":["// Using history api from react-router 4\r\n// Need to install it via yarn add history https://github.com/ReactTraining/history\r\nimport history from '../history';\r\n\r\nexport function push(path = '/') {\r\n  history.push(path)\r\n}\r\n\r\nexport function replace(path = '/') {\r\n  history.replace(path)\r\n}","module.exports = __webpack_public_path__ + \"static/media/arrow_right.8075ec42.svg\";","import React, { Component } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link, withRouter } from \"react-router-dom\"\r\nimport { connect } from 'react-redux'\r\nimport weui from 'weui.js'\r\n\r\nimport api from '../api'\r\nimport Menu from '../common/Menu'\r\nimport { replace } from '../services/redirect'\r\n\r\nimport arrowIcon from '../asset/images/icon/arrow_right.svg'\r\n\r\nconst Button = styled.button`\r\n  outline: none;\r\n  display: block;\r\n  border: 0;\r\n  width: 100%;\r\n  padding: 0;\r\n`\r\nconst PrimaryButton = styled(Button)`\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  line-height: 50px;\r\n  border-radius: 3px;\r\n  box-shadow: 0 3px 5px rgba(76, 173, 255, .54);\r\n  background: -webkit-linear-gradient(47deg,#4cadff,#8ce0ff);\r\n`\r\n\r\nconst Page = styled.div`\r\n  padding-bottom: 50px;\r\n  .title{\r\n    font-size: 16px;\r\n  }\r\n  section{\r\n    background: #fff;\r\n  }\r\n  .item{\r\n    position: relative;\r\n    padding: 15px;\r\n    display: flex;\r\n    justify-content: space-between;    \r\n    &:after{\r\n      content: \" \";\r\n      position: absolute;\r\n      left: 15px;\r\n      bottom: 0;\r\n      right: 0;\r\n      height: 1px;\r\n      border-bottom: 1px solid #e5e5e5;\r\n      transform: scaleY(0.5);\r\n    }\r\n    &:last-child:after{\r\n      content: none;\r\n    }\r\n  }\r\n  .cell{\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .arrow{\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  .label{\r\n    color: #888;\r\n  }\r\n  .fixed-bottom{\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n`\r\n\r\nclass Me extends Component {\r\n  state = {\r\n    balance: \"\",\r\n    contactMan: \"\",\r\n    userPhoneNo: \"\"    \r\n  }\r\n  componentDidMount() {\r\n    this.loadUserinfo()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false\r\n  }\r\n\r\n  loadUserinfo = async () => {\r\n    this._isMounted = true\r\n    const {data} = await api.getUserInfo()\r\n    if(data.status === 200) {\r\n      if(!this._isMounted){return}\r\n      if(!data.data.length) {return}\r\n      this.setState({...data.data[0]})\r\n    }\r\n  }\r\n\r\n  handleClick = e => {\r\n    weui.confirm('是否退出当前账号？', () => {\r\n      this.props.logout()\r\n      replace('/login')\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Page>\r\n        <div className=\"u_m_xxx\">\r\n          <h2 className=\"title\">个人信息</h2>\r\n        </div>\r\n        <div className=\"u_m_xxx\">\r\n          <section>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">姓名</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                {this.state.contactMan}\r\n              </div>\r\n            </div>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">账户积分</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                {this.state.balance} 积分\r\n              </div>\r\n            </div>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">手机号</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                {this.state.userPhoneNo}\r\n              </div>\r\n            </div>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">银行卡</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                <Link to=\"/bankcard-list\">\r\n                  <img className=\"arrow\" src={arrowIcon} />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n        <div className=\"u_m_xxx\">\r\n          <h2 className=\"title\">记录相关</h2>\r\n        </div>\r\n        <div className=\"u_m_xxx\">\r\n          <section>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">积分赎回记录</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                <Link to=\"/redeem-record\">\r\n                  <img className=\"arrow\" src={arrowIcon} />\r\n                </Link>\r\n              </div>\r\n            </div>            \r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">我的订单</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                <Link to=\"/order\">\r\n                  <img className=\"arrow\" src={arrowIcon} />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n        <div className=\"u_m_xxx\">\r\n          <h2 className=\"title\">密码操作</h2>\r\n        </div>\r\n        <div className=\"u_m_xxx\">\r\n          <section>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">修改登录密码</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                <img className=\"arrow\" src={arrowIcon} />\r\n              </div>\r\n            </div>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">修改交易密码</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                <img className=\"arrow\" src={arrowIcon} />\r\n              </div>\r\n            </div>\r\n            <div className=\"item\">\r\n              <div className=\"cell\">\r\n                <label className=\"label\">找回交易密码</label>\r\n              </div>\r\n              <div className=\"cell\">\r\n                <img className=\"arrow\" src={arrowIcon} />\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n\r\n        <div className=\"u_m_xxx\">\r\n          <PrimaryButton onClick={this.handleClick}>退出</PrimaryButton>\r\n        </div>\r\n\r\n        <div className=\"fixed-bottom\">\r\n          <Menu />\r\n        </div>\r\n      </Page>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  return {\r\n    logout: () => dispatch({type: 'UNAUTH_USER'})\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(Me))"],"sourceRoot":""}