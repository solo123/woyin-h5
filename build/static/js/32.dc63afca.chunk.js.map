{"version":3,"sources":["../node_modules/classnames/index.js","pages/StoreSort/views/styled.js","pages/StoreSort/views/List.js","pages/StoreSort/views/StoreSort.js","pages/StoreSort/index.js"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","undefined","styled","div","_templateObject","Item","_ref","name","src","price","external_React_default","a","createElement","Link","to","className","alt","List","_ref2","items","map","product","skuId","id","concat","imagePath","EmptyArrayPlaceholder","StoreSort","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","state","currentId","menus","_this2","getGoodsSort","getGoodsList","cb","getJDGoodsSort","data","status","setState","loading","weui","params","goodsClassId","page","getJDGoodsList","hide","_this3","Helmet","title","item","active","onClick","category","views_List","Backhome","Component","__webpack_require__","d","__webpack_exports__","views_StoreSort"],"mappings":"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","file":"static/js/32.dc63afca.chunk.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  .layout{\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    &__aside{\r\n      width: 100px;\r\n      background: #f7f7f8;\r\n      overflow-y: auto;\r\n    }   \r\n    &__main{\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      background: #fff;\r\n    }\r\n  }\r\n  .menu{\r\n    li{\r\n      padding: 15px;\r\n      &.active{\r\n        color: red;\r\n      }\r\n    }\r\n  }\r\n  .product{\r\n    position: relative;\r\n    padding: 15px;\r\n    background: #fff;\r\n    display: flex;\r\n    &:after{\r\n      content: '';\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      height: 1px;\r\n      background: #eaeaea;\r\n      transform: scaleY(.3);      \r\n    }\r\n    &__thumb{\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n    &__title{\r\n      font-weight: bold;\r\n      display: -webkit-box;\r\n      -webkit-box-orient: vertical;\r\n      -webkit-line-clamp: 2;\r\n      overflow: hidden;\r\n    }\r\n    &__main{\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      margin-left: 10px;\r\n    }\r\n    &__info{\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n    &__price{\r\n      color: #F53415;\r\n      font-weight: bold;\r\n    }\r\n    &__label{\r\n      font-size: 12px;\r\n      padding: 2px 8px;\r\n      border-radius: 3px;\r\n      color: #7e7e7e;\r\n      background: #F2F2F2;  \r\n      &--primary{\r\n        color: #fff;\r\n        background: #F63618;\r\n      }           \r\n    }\r\n  }\r\n`","import React from 'react'\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport EmptyArrayPlaceholder from '@/common/EmptyArrayPlaceholder'\r\n\r\nfunction Item({name, src, price}) {\r\n  return (\r\n    <Link to=\"\" className=\"product\">\r\n      <div className=\"product__aside\">\r\n        <div className=\"product__thumb\">\r\n          <img src={src} alt=\"\"/>\r\n        </div>      \r\n      </div>\r\n      <div className=\"product__main\">\r\n        <div className=\"product__title\">{name}</div>\r\n        <div className=\"product__price\">￥{price}</div>\r\n        <div className=\"product__info\">\r\n          <span className=\"product__label\">有货</span>\r\n          <span className=\"product__label product__label--primary\">兑换</span>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nfunction List({items}) {\r\n  if(!items.length) {\r\n    return <EmptyArrayPlaceholder />\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-list\">\r\n      {items.map(product => {\r\n        return (\r\n          <Item\r\n            key={product.skuId}\r\n            id={product.skuId}\r\n            name={product.name}\r\n            src={`https://img13.360buyimg.com/n1/${product.imagePath}`}\r\n            price={product.price}\r\n          />\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default List","import React, {Component} from 'react'\r\nimport {Helmet} from \"react-helmet\"\r\nimport weui from 'weui.js'\r\nimport classNames from 'classnames'\r\n\r\nimport {getJDGoodsSort, getJDGoodsList} from '@/api'\r\n\r\nimport Backhome from '@/common/Backhome'\r\nimport Page from './styled'\r\nimport List from './List'\r\n\r\nclass StoreSort extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      currentId: '',\r\n      menus: [],\r\n      items: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getGoodsSort(id => {\r\n      this.getGoodsList(id)\r\n    })\r\n  }\r\n\r\n  async getGoodsSort(cb) {\r\n    try {\r\n      const {data} = await getJDGoodsSort()\r\n      if(data.status === 200) {\r\n        this.setState({menus: data.data})\r\n        cb && cb(data.data[0].id)\r\n      }\r\n    }finally {\r\n    }\r\n  }\r\n\r\n  async getGoodsList(id) {\r\n    this.setState({currentId: id})\r\n    const loading = weui.loading('加载中')\r\n    const params = {\r\n      goodsClassId: id,\r\n      page: 0\r\n    }\r\n    try {\r\n      const {data} = await getJDGoodsList(params)\r\n      if(data.status === 200) {\r\n        this.setState({items: data.data.data})\r\n      }      \r\n    }finally {\r\n      loading.hide()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {currentId} = this.state\r\n    return (\r\n      <Page>\r\n        <Helmet title=\"商品分类\"/>\r\n\r\n        <div className=\"layout\">\r\n          <div className=\"layout__aside\">\r\n            <ul className=\"menu\">\r\n              {this.state.menus.map(item => {\r\n                return (\r\n                  <li \r\n                    key={item.id} \r\n                    className={classNames({active: currentId === item.id})}  \r\n                    onClick={() => this.getGoodsList(item.id)}\r\n                  >\r\n                    {item.category}\r\n                  </li>\r\n                )\r\n              })}\r\n            </ul>\r\n          </div>\r\n          <div className=\"layout__main\">\r\n            <List items={this.state.items} />\r\n          </div>\r\n        </div>\r\n        \r\n        <Backhome />\r\n      </Page>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StoreSort","import view from './views/StoreSort'\r\n\r\nexport {view}"],"sourceRoot":""}