(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{110:function(e,n,t){var a;!function(){"use strict";var t={}.hasOwnProperty;function s(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var r=s.apply(null,a);r&&e.push(r)}else if("object"===i)for(var o in a)t.call(a,o)&&a[o]&&e.push(o)}}return e.join(" ")}"undefined"!==typeof e&&e.exports?(s.default=s,e.exports=s):void 0===(a=function(){return s}.apply(n,[]))||(e.exports=a)}()},113:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyMkE3QTBENDkyODExRTk4NkYwRTc5NjBDNzJBRENBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyMkE3QTBFNDkyODExRTk4NkYwRTc5NjBDNzJBRENBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTIyQTdBMEI0OTI4MTFFOTg2RjBFNzk2MEM3MkFEQ0EiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTIyQTdBMEM0OTI4MTFFOTg2RjBFNzk2MEM3MkFEQ0EiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7gM8GWAAAC30lEQVR42uybvUscQRjG9/JBDAbhCv0HLAJKQDCCiBpBBElAEUywEhuJBCxMpWChkOKstFKwSBPQQguJHCqIH5gqEMRCUUxsBAsjiGATFS/PwCxchv267HzdzrzwsOcs7M3z252Z9x33UrlczjE5HjiGhwVgARgej+Je4M3iP3++hlqhGugh575uQuNsY7ZbMQAaaegL4SHwZp1r+QQgUtAaVGfqHDBYrOZ5AXirozHMTVVQWsYQqPVoO4B+c/a0X4D5ahx2oDN8bsJEeSkSwFOPtjFoQdGdd82nqXaCICQqD2DMu1FNIaQTDcDHfD6E9sQCCDFP4gOGwHwiAUQ0P5PUWqAmjnmeqbAq89tQmc/5oTDzvgBIEoFDBZuL44IHRWR+Kk4tQKouts4i6/o7Dp3vh15CA1BOpXkVQ4CYn6WfS6C+AiFwNS97Esw3T6IXmitg3yDM/Eih5mUC6GHM57cvRHgSo5jPqKoGo8Q6dORzrgtagh77nK8TZV4mgAuoMQAC2UnKQk88zG+IMi97DgiD0Aat5lWXrvlnAStVJm6nZK8CLoRv0HOP8y10uIxCXwPMZ2jJ7cTNY1RkgmEQGuiddwLMj4R8R+Q8RlUtEDYc4pjXdg6IC2GKt3kdqsGoEIj5IREd0KEcDoMgzLxO+wF+EISa121DhIUwI9q8jhsiLgRSKn+S8YU6boldyDKvKwCpYQFYABaABWB08MgDyK5uimmrorW98GBe0nKj3KPtXhSAE6iSaRvT8Gb/EjUE9orkad8VBWACutPc/CG0LArAd+i9xhBOoY5st/NH5CrwGap36ItJzv/9z49n3EA/ab9ewPyxjGrwB9Qs22ncV2VtImQBWAA2FfaKK4+2FqSdWwr76vl7AVEA9nzy61cKAZzLHALkpcJrY+cArK1kY3LY9ElwGvoI3Rq5H4CngKSzk5j4VnDspFleqcK+7ou4aMr+dNYmQhaABWBy/BVgAIpos/yzjVFgAAAAAElFTkSuQmCC"},136:function(e,n,t){e.exports=t.p+"static/media/unchecked.4f9d5d26.png"},137:function(e,n,t){e.exports=t.p+"static/media/logo.a8aab438.png"},171:function(e,n,t){"use strict";t.r(n);var a=t(33),s=t(101),i=t.n(s),r=t(102),o=t(13),l=t(14),c=t(16),d=t(15),u=t(17),h=t(34),m=t(99),g=t(0),p=t.n(g),b=t(181),f=t(182),v=t(20),w=t(100),j=t(110),C=t.n(j),k=t(6),y=t.n(k),E=t(112),O=t.n(E),A=t(115),x=t.n(A),S=t(116),B=t.n(S),M=t(113),T=t.n(M),N=t(136),I=t.n(N),R=t(137),D=t.n(R),F=t(51),G=t(9);function z(){var e=Object(m.a)(['\n  header{\n    padding: 30px 15px;\n    font-size: 16px;\n    font-weight: bold;\n    .logo-box{\n      text-align: center;\n      margin-bottom: 30px;\n    }\n    .logo{\n      width: 100px;\n      height: 100px;\n    }\n    ul{\n      display: flex;\n      justify-content: center;\n      li{\n        color: #aaa;\n        margin-right: 20px;\n        &.active{\n          color: #4aabff;\n          border-bottom: 2px solid #46a4f5;\n        }\n      }\n    }\n  }\n  main{\n    margin: 0 25px;\n  }\n  .group-list{\n    border-radius: 3px;\n    background: #fff;\n    margin-bottom: 15px;\n    box-shadow: 1px 1px 3px rgba(26, 26, 26, 0.1);\n  }\n  .group{\n    position: relative;\n    padding: 15px;\n    display: flex;\n    align-items: center;\n    &:after{\n      content: " ";\n      position: absolute;\n      left: 15px;\n      bottom: 0;\n      right: 0;\n      height: 1px;\n      background: #eaeaea;\n      transform: scaleY(0.5);\n    }\n    &:last-child:after{\n      content: none;\n    }\n    &__body{\n      flex: 1;\n    }\n    &__foot{\n      display: flex;\n      align-items: center;\n      margin-left: 10px;\n    }\n    &__toggle-btn,\n    &__clean-btn{\n      width: 25px;\n      height: 25px;\n    }\n  }\n  .label{\n    display: flex;\n    align-items: center;\n    margin: 0 5px 30px 5px;\n    color: #4aabff;\n    font-size: 12px;\n    img{\n      width: 16px;\n      height: 16px;\n      margin-right: 3px;\n    }\n  }\n']);return z=function(){return e},e}function V(){var e=Object(m.a)(["\n  color: #444;\n  font-size: 14px;\n"]);return V=function(){return e},e}function Q(){var e=Object(m.a)(["\n  border: 0;\n  padding: 0;\n  width: 100%;\n  outline: none;\n  color: inherit;\n  font-size: inherit;\n  -webkit-appearance: none;\n  background: transparent;\n"]);return Q=function(){return e},e}function U(){var e=Object(m.a)(["\n  color: #fff;\n  font-size: 12px;\n  padding: 3px 10px;\n  line-height: 1.5;\n  border-radius: 3px;\n  background: #ccc;\n"]);return U=function(){return e},e}function Y(){var e=Object(m.a)(["\n  color: #fff;\n  font-size: 12px;\n  padding: 3px 10px;\n  line-height: 1.5;\n  border-radius: 3px;\n  background: -webkit-linear-gradient(47deg,#4cadff,#8ce0ff);\n"]);return Y=function(){return e},e}function H(){var e=Object(m.a)(["\n  color: #fff;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 50px;\n  border-radius: 3px;\n  background: #ccc;\n"]);return H=function(){return e},e}function Z(){var e=Object(m.a)(["\n  color: #fff;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 50px;\n  border-radius: 3px;\n  box-shadow: 0 3px 5px rgba(76, 173, 255, .54);\n  background: -webkit-linear-gradient(47deg,#4cadff,#8ce0ff);\n"]);return Z=function(){return e},e}function L(){var e=Object(m.a)(["\n  border: 0;\n  padding: 0;\n  width: 100%;\n  outline: none;\n  display: block;\n  background: transparent;\n"]);return L=function(){return e},e}var P=w.a.button(L()),W=Object(w.a)(P)(Z()),_=Object(w.a)(P)(H()),J=Object(w.a)(P)(Y()),K=Object(w.a)(P)(U()),X=w.a.input(Q()),q=Object(w.a)(X)(V()),$=w.a.div(z()),ee={text:x.a,password:B.a},ne={checked:T.a,unchecked:I.a},te="password",ae="message",se={password:1,message:2},ie=function(e){var n=e.flag,t=e.timer,a=e.handleClick;return n?p.a.createElement(J,{onClick:a},"\u83b7\u53d6\u9a8c\u8bc1\u7801"):p.a.createElement(K,null,t,"\u79d2\u540e\u91cd\u53d1")},re=function(e){var n=e.pass,t=e.handleSubmit;return n?p.a.createElement(W,{onClick:t},"\u767b\u5f55"):p.a.createElement(_,null,"\u767b\u5f55")},oe=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(c.a)(this,Object(d.a)(n).call(this,e))).readUsernameFromStore=function(){var e=Object(G.a)("username");e?t.setState({username:e,rememberStatus:"checked"},function(){t.updateBtnStatus()}):t.setState({rememberStatus:"unchecked"},function(){t.updateBtnStatus()})},t.resetMessageState=function(){t.setState({timer:10,sendMessageCodeFlag:!0})},t.countDown=function(){t.state.timer>0?setTimeout(function(){t._isMounted&&t.setState({timer:t.state.timer-1},function(){t.countDown()})},1e3):t.resetMessageState()},t.handleSendMessageCode=Object(r.a)(i.a.mark(function e(){var n,a,s,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.a.loading("\u53d1\u9001\u4e2d"),a={userPhoneNo:t.state.username,codeType:1},e.prev=2,t._isMounted=!0,e.next=6,F.a.getCode(a);case 6:if(s=e.sent,200!==(r=s.data).status){e.next=12;break}if(t._isMounted){e.next=11;break}return e.abrupt("return");case 11:t.setState({sendMessageCodeFlag:!1},t.countDown);case 12:y.a.alert(r.msg);case 13:return e.prev=13,n.hide(),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[2,,13,16]])})),t.handleChange=t.handleChange.bind(Object(h.a)(Object(h.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(Object(h.a)(t))),t.handleFocus=t.handleFocus.bind(Object(h.a)(Object(h.a)(t))),t.handleBlur=t.handleBlur.bind(Object(h.a)(Object(h.a)(t))),t.handleTogglePswdVisibleOrHidden=t.handleTogglePswdVisibleOrHidden.bind(Object(h.a)(Object(h.a)(t))),t.updateBtnStatus=t.updateBtnStatus.bind(Object(h.a)(Object(h.a)(t))),t.handleRememberUsername=t.handleRememberUsername.bind(Object(h.a)(Object(h.a)(t))),t.usernameClean=t.handleClean.bind(Object(h.a)(Object(h.a)(t)),"username"),t.passwordClean=t.handleClean.bind(Object(h.a)(Object(h.a)(t)),"password"),t.messageClean=t.handleClean.bind(Object(h.a)(Object(h.a)(t)),"messageCode"),t.handlePasswordLogin=t.handleToggleLoginType.bind(Object(h.a)(Object(h.a)(t)),te),t.handleMessageLogin=t.handleToggleLoginType.bind(Object(h.a)(Object(h.a)(t)),ae),t.state={pass:!1,username:"",usernameCleanView:!1,password:"",passwordCleanView:!1,messageCode:"",messageCodeCleanView:!1,passwordType:"password",rememberStatus:"unchecked",timer:60,sendMessageCodeFlag:!0,loginType:te},t}return Object(u.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.readUsernameFromStore()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"handleToggleLoginType",value:function(e){var n=this;e!==this.state.loginType&&this.setState({loginType:e},function(){n.updateBtnStatus()})}},{key:"handleTogglePswdVisibleOrHidden",value:function(){var e="password"===this.state.passwordType?"text":"password";this.setState({passwordType:e})}},{key:"handleFocus",value:function(e){this.setState(Object(a.a)({},"".concat(e.target.name,"CleanView"),!0))}},{key:"handleBlur",value:function(e){var n=this,t="".concat(e.target.name,"CleanView");setTimeout(function(){n.setState(Object(a.a)({},t,!1),function(){n.updateBtnStatus()})},100)}},{key:"handleClean",value:function(e){this.setState(Object(a.a)({},e,""))}},{key:"handleChange",value:function(e){var n=this;this.setState(Object(a.a)({},e.target.name,e.target.value),function(){n.updateBtnStatus()})}},{key:"handleSubmit",value:function(){var e=Object(r.a)(i.a.mark(function e(){var n,t,a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.a.loading("\u5904\u7406\u4e2d"),t={userPhoneNo:this.state.username,password:this.state.password,loginType:se[this.state.loginType]},e.prev=2,e.next=5,F.a.login(t);case 5:a=e.sent,200===(s=a.data).status?this.props.login({token:s.data.sessionId}):1010===s.status?y.a.alert("\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef"):y.a.alert(s.msg);case 8:return e.prev=8,n.hide(),e.finish(8);case 11:case"end":return e.stop()}},e,this,[[2,,8,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateBtnStatus",value:function(){var e=!0,n=this.state,t=n.username,a=n.password,s=n.messageCode,i=n.loginType;this.toggleSaveOrRemoveUsername(),t||(e=!1),i===te?a||(e=!1):i===ae&&(s||(e=!1)),this.setState({pass:e})}},{key:"handleRememberUsername",value:function(){var e=this,n="checked"===this.state.rememberStatus?"unchecked":"checked";this.setState({rememberStatus:n},function(){e.toggleSaveOrRemoveUsername()})}},{key:"toggleSaveOrRemoveUsername",value:function(){"checked"===this.state.rememberStatus?Object(G.c)("username",this.state.username):Object(G.b)("username")}},{key:"render",value:function(){var e=this.props.isAuthenticated,n=(this.props.location.state||{from:{pathname:"/"}}).from,t=this.state,a=t.pass,s=t.usernameCleanView,i=t.passwordCleanView,r=t.messageCodeCleanView,o=t.sendMessageCodeFlag;return e?p.a.createElement(b.a,{to:n}):p.a.createElement($,null,p.a.createElement("header",null,p.a.createElement("div",{className:"logo-box"},p.a.createElement("img",{className:"logo",src:D.a,alt:"logo"})),p.a.createElement("ul",null,p.a.createElement("li",{className:C()({active:this.state.loginType===te}),onClick:this.handlePasswordLogin},"\u5bc6\u7801\u767b\u5f55"),p.a.createElement("li",{className:C()({active:this.state.loginType===ae}),onClick:this.handleMessageLogin},"\u77ed\u4fe1\u767b\u5f55"))),p.a.createElement("main",null,p.a.createElement("div",{className:"group-list"},p.a.createElement("div",{className:"group"},p.a.createElement("div",{className:"group__body"},p.a.createElement(q,{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})),p.a.createElement("div",{className:"group__foot"},p.a.createElement("img",{className:"group__clean-btn",style:{visibility:s?"visible":"hidden"},onClick:this.usernameClean,src:O.a,alt:""}))),this.state.loginType===te?p.a.createElement("div",{className:"group"},p.a.createElement("div",{className:"group__body"},p.a.createElement(q,{type:this.state.passwordType,name:"password",value:this.state.password,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),p.a.createElement("div",{className:"group__foot"},p.a.createElement("img",{className:"group__clean-btn",style:{visibility:i?"visible":"hidden"},onClick:this.passwordClean,src:O.a,alt:""}),p.a.createElement("img",{className:"group__toggle-btn",onClick:this.handleTogglePswdVisibleOrHidden,src:ee[this.state.passwordType],alt:"\u5207\u6362"}))):p.a.createElement("div",{className:"group"},p.a.createElement("div",{className:"group__body"},p.a.createElement(q,{type:"text",name:"messageCode",value:this.state.messageCode,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"})),p.a.createElement("div",{className:"group__foot"},p.a.createElement("img",{className:"group__clean-btn",style:{visibility:r?"visible":"hidden"},onClick:this.messageClean,src:O.a,alt:""}),p.a.createElement(ie,{flag:o,timer:this.state.timer,handleClick:this.handleSendMessageCode},"\u83b7\u53d6\u9a8c\u8bc1\u7801")))),p.a.createElement("label",{className:"label",onClick:this.handleRememberUsername},p.a.createElement("img",{src:ne[this.state.rememberStatus]}),"\u8bb0\u4f4f\u8d26\u53f7"),p.a.createElement(re,{pass:a,handleSubmit:this.handleSubmit})))}}]),n}(g.Component);n.default=Object(f.a)(Object(v.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},function(e,n){return{login:function(n){e({type:"AUTH_USER",payload:{token:n.token}})}}})(oe))}}]);
//# sourceMappingURL=5.c27d7d9e.chunk.js.map